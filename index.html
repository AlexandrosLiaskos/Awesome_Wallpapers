<!DOCTYPE html>
<html lang="en">
<!-- Previous head and style content remains the same until mobile styles -->
<style>
    /* ... previous styles ... */
    
    @media (max-width: 768px) {
        .layout-container {
            display: block;
        }
        
        .side-panel {
            display: none;
        }
        
        .main-panel {
            margin-left: 0 !important;
            width: 100% !important;
        }
        
        .image-grid {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }

        .mobile-info-panel {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            background-color: rgba(10, 20, 20, 0.95);
            margin-top: 0;
            border-radius: 0.5rem;
            transform: translateY(-10px);
            pointer-events: none;
        }

        .mobile-info-panel.expanded {
            max-height: 500px;
            opacity: 1;
            margin-top: 1rem;
            transform: translateY(0);
            pointer-events: auto;
            padding: 1rem;
        }

        .mobile-info-content {
            transition: opacity 0.3s ease;
            opacity: 0;
        }

        .mobile-info-panel.expanded .mobile-info-content {
            opacity: 1;
            transition-delay: 0.2s;
        }

        /* Remove any styles that affect card ordering */
        .wallpaper-card.selected {
            /* Remove order property */
        }
    }
</style>

<!-- HTML content remains largely the same, but simplify the mobile info panel -->
<div class="main-panel min-h-screen p-4">
    <div class="image-grid">
        <div v-for="wallpaper in wallpapers" 
             :key="wallpaper.filename"
             class="wallpaper-card rounded-lg overflow-hidden cursor-pointer"
             :class="{'selected-preview': selectedWallpaper?.filename === wallpaper.filename}"
             :id="'preview-' + wallpaper.filename"
             @click="selectWallpaperFromPreview(wallpaper)">
            <img :src="wallpaper.github_raw_url" 
                 :alt="getFilenameWithoutExtension(wallpaper.filename)"
                 class="w-full h-48 object-cover transition-transform duration-300 hover:scale-105"
                 loading="lazy">
            <div class="absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black to-transparent">
                <div class="text-sm text-white truncate">
                    {{ getFilenameWithoutExtension(wallpaper.filename) }}
                </div>
            </div>

            <!-- Mobile Info Panel -->
            <div :class="['mobile-info-panel', {'expanded': selectedWallpaper?.filename === wallpaper.filename}]">
                <div class="mobile-info-content">
                    <div class="text-sm text-gray-300">
                        <h3 class="font-bold text-white text-lg mb-2">
                            {{ getFilenameWithoutExtension(wallpaper.filename) }}
                        </h3>
                        <div class="mb-2">
                            Tags: {{ wallpaper.tags.join(', ') }}
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                            <div>Resolution:</div>
                            <div>{{ wallpaper.metadata.width }}x{{ wallpaper.metadata.height }}</div>
                            <div>File Size:</div>
                            <div>{{ wallpaper.metadata.file_size_mb }}MB</div>
                            <div>File Type:</div>
                            <div>{{ getFileExtension(wallpaper.filename) }}</div>
                        </div>
                        <a :href="wallpaper.github_raw_url" 
                           target="_blank"
                           class="block mt-4 text-center p-2 rounded-lg border border-teal-400 text-teal-400 hover:bg-teal-400 hover:text-gray-900 transition-colors duration-200">
                            Download Wallpaper
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Update the script section -->
<script>
    // ... previous code ...

    const selectWallpaperFromPreview = async (wallpaper) => {
        if (selectedWallpaper.value?.filename === wallpaper.filename) {
            // Add a small delay before closing to allow animation
            setTimeout(() => {
                selectedWallpaper.value = null;
            }, 50);
            return;
        }

        selectedWallpaper.value = wallpaper;
        expandedPanels.value = { [wallpaper.filename]: true };
        
        if (!isMobile()) {
            await nextTick();
            const listElement = document.getElementById('list-' + wallpaper.filename);
            if (listElement) {
                listElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
        // Remove any mobile-specific scrolling
    };

    // ... rest of the code ...
</script>